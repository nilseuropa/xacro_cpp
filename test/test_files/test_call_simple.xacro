<a xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:property name="note_prefix" value="payload"/>

  <xacro:macro name="make_thing" params="id color *payload">
    <thing name="${id}" color="${color}">
      <xacro:insert_block name="payload" />
    </thing>
  </xacro:macro>

  <xacro:call macro="make_thing" id="alpha" color="${1 + 1}">
    <payload>
      <part note="${note_prefix}"/>
    </payload>
  </xacro:call>
</a>
